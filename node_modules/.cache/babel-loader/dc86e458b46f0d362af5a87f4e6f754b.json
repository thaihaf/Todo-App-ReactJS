{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nexport default function FetchClient() {\n  _s();\n\n  const navigate = useNavigate();\n  axios.interceptors.request.use(function (config) {\n    // Do something before request is sent\n    return config;\n  }, function (error) {\n    console.log(error); // Do something with request error\n\n    return Promise.reject(error);\n  }); // // Add a response interceptor\n\n  axios.interceptors.response.use(function (response) {\n    // Any status code that lie within the range of 2xx cause this function to trigger\n    // Do something with response data\n    return response;\n  }, function (error) {\n    if (error.response.status == 401) {\n      toast.warn(\"This token is invalidated\");\n      localStorage.removeItem(\"user\");\n      navigate(\"/\");\n    } // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n\n\n    return Promise.reject(error);\n  });\n}\n\n_s(FetchClient, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = FetchClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchClient\");","map":{"version":3,"sources":["D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/src/service/defaultAPI/FetchClient.js"],"names":["axios","toast","useNavigate","FetchClient","navigate","interceptors","request","use","config","error","console","log","Promise","reject","response","status","warn","localStorage","removeItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,eAAe,SAASC,WAAT,GAAuB;AAAA;;AACpC,QAAMC,QAAQ,GAAGF,WAAW,EAA5B;AAEAF,EAAAA,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,UAAUC,MAAV,EAAkB;AAChB;AAEA,WAAOA,MAAP;AACD,GALH,EAME,UAAUC,KAAV,EAAiB;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADe,CAEf;;AACA,WAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,GAVH,EAHoC,CAgBpC;;AACAT,EAAAA,KAAK,CAACK,YAAN,CAAmBS,QAAnB,CAA4BP,GAA5B,CACE,UAAUO,QAAV,EAAoB;AAClB;AACA;AACA,WAAOA,QAAP;AACD,GALH,EAME,UAAUL,KAAV,EAAiB;AACf,QAAIA,KAAK,CAACK,QAAN,CAAeC,MAAf,IAAyB,GAA7B,EAAkC;AAChCd,MAAAA,KAAK,CAACe,IAAN,CAAW,2BAAX;AACAC,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAd,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,KALc,CAOf;AACA;;;AACA,WAAOQ,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,GAhBH;AAkBD;;GAnCuBN,W;UACLD,W;;;KADKC,W","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function FetchClient() {\r\n  const navigate = useNavigate();\r\n\r\n  axios.interceptors.request.use(\r\n    function (config) {\r\n      // Do something before request is sent\r\n \r\n      return config;\r\n    },\r\n    function (error) {\r\n      console.log(error);\r\n      // Do something with request error\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // // Add a response interceptor\r\n  axios.interceptors.response.use(\r\n    function (response) {\r\n      // Any status code that lie within the range of 2xx cause this function to trigger\r\n      // Do something with response data\r\n      return response;\r\n    },\r\n    function (error) {\r\n      if (error.response.status == 401) {\r\n        toast.warn(\"This token is invalidated\");\r\n        localStorage.removeItem(\"user\");\r\n        navigate(\"/\")\r\n      }\r\n\r\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n      // Do something with response error\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
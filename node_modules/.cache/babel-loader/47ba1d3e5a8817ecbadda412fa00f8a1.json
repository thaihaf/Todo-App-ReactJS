{"ast":null,"code":"import _regeneratorRuntime from\"D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import clsx from\"clsx\";import{createUseStyles}from\"react-jss\";import{useState}from\"react\";import{toast}from\"react-toastify\";import taskAPI from\"../../service/fetchAPI/taskAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles({paging__list:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",gap:\"0.7rem\"},paging__item:{width:\"4.2rem\",height:\"4rem\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",fontSize:\"1.5rem\",borderRadius:\"1rem\",outline:\"none !important\",border:\"none\",color:\"var(--bg-btn-pink)\",backgroundColor:\"var(--background-color-header)\"},paging__chevron:{margin:\"0 1rem\",color:\"var(--bg-btn-pink)\"},paging__input:{width:\"4.2rem \",height:\"4rem \",padding:\"0 1.5rem\",fontSize:\"1.5rem\"},paging__item_disabled:{color:\"#999\",cursor:\"default !important\"},paging__icon_disabled:{cursor:\"default !important\"},paging__item_active:{border:\"2px solid var(--bg-btn-pink)\"}});export default function Paging(_ref){var data=_ref.data,handleChangeData=_ref.handleChangeData;var classes=useStyles();var _useState=useState(data.meta.currentPage),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var handleChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(link){var errForm;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.t0=handleChangeData;_context.next=4;return taskAPI().getTasks(link.substring(link.lastIndexOf(\"/api\")));case 4:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=12;break;case 8:_context.prev=8;_context.t2=_context[\"catch\"](0);errForm=_context.t2.message;toast.error(errForm);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleChange(_x){return _ref2.apply(this,arguments);};}();var previousBtn=function previousBtn(link){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(currentPage>1){setCurrentPage(currentPage-1);handleChange(link);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));};var nextBtn=function nextBtn(link){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(currentPage<data.meta.totalPages){setCurrentPage(currentPage+1);handleChange(link);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));};var numberBtn=function numberBtn(link,val){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setCurrentPage(val);handleChange(link);case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref5.apply(this,arguments);};}();};var input=function input(e){var value=e.target.value;};return/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.paging__list),children:[/*#__PURE__*/_jsx(\"button\",{className:clsx(classes.paging__item,classes.paging__chevron,data.links.previous==null&&classes.paging__item_disabled),onClick:previousBtn(data.links.previous),disabled:data.links.previous==null&&true,children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"chevron-back\",className:clsx(classes.paging__icon_disabled)})}),/*#__PURE__*/_jsx(\"button\",{className:clsx(classes.paging__item,currentPage==1?classes.paging__item_active:\"\"),onClick:numberBtn(data.links.first,1),children:\"1\"}),currentPage>1&&currentPage<data.meta.totalPages?/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:clsx(classes.paging__input,classes.paging__item_active,data.meta.totalPages==1&&\"d-none\"),value:currentPage,readOnly:true}):/*#__PURE__*/_jsx(\"button\",{className:clsx(classes.paging__item,data.meta.totalPages==1&&\"d-none\"),children:\"...\"}),/*#__PURE__*/_jsx(\"button\",{className:clsx(classes.paging__item,currentPage==data.meta.totalPages?classes.paging__item_active:\"\",data.meta.totalPages==1&&\"d-none\"),onClick:numberBtn(data.links.last,data.meta.totalPages),children:data.meta?data.meta.totalPages:\"\"}),/*#__PURE__*/_jsx(\"button\",{className:clsx(classes.paging__item,classes.paging__chevron,data.links.next==null&&classes.paging__item_disabled),onClick:nextBtn(data.links.next),disabled:data.links.next==null&&true,children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"chevron-forward\"})})]});}","map":{"version":3,"sources":["D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/src/components/Paging/Paging.js"],"names":["React","clsx","createUseStyles","useState","toast","taskAPI","useStyles","paging__list","display","alignItems","justifyContent","gap","paging__item","width","height","fontSize","borderRadius","outline","border","color","backgroundColor","paging__chevron","margin","paging__input","padding","paging__item_disabled","cursor","paging__icon_disabled","paging__item_active","Paging","data","handleChangeData","classes","meta","currentPage","setCurrentPage","handleChange","link","getTasks","substring","lastIndexOf","errForm","message","error","previousBtn","nextBtn","totalPages","numberBtn","val","e","input","value","target","links","previous","first","last","next"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport taskAPI from \"../../service/fetchAPI/taskAPI\";\r\n\r\nconst useStyles = createUseStyles({\r\n  paging__list: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    gap: \"0.7rem\",\r\n  },\r\n  paging__item: {\r\n    width: \"4.2rem\",\r\n    height: \"4rem\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    fontSize: \"1.5rem\",\r\n    borderRadius: \"1rem\",\r\n    outline: \"none !important\",\r\n    border: \"none\",\r\n    color: \"var(--bg-btn-pink)\",\r\n    backgroundColor: \"var(--background-color-header)\",\r\n  },\r\n  paging__chevron: {\r\n    margin: \"0 1rem\",\r\n    color: \"var(--bg-btn-pink)\",\r\n  },\r\n  paging__input: {\r\n    width: \"4.2rem \",\r\n    height: \"4rem \",\r\n    padding: \"0 1.5rem\",\r\n    fontSize: \"1.5rem\",\r\n  },\r\n  paging__item_disabled: {\r\n    color: \"#999\",\r\n    cursor: \"default !important\",\r\n  },\r\n  paging__icon_disabled: {\r\n    cursor: \"default !important\",\r\n  },\r\n  paging__item_active: {\r\n    border: \"2px solid var(--bg-btn-pink)\",\r\n  },\r\n});\r\n\r\nexport default function Paging({ data, handleChangeData }) {\r\n  const classes = useStyles();\r\n\r\n  let [currentPage, setCurrentPage] = useState(data.meta.currentPage);\r\n\r\n  const handleChange = async (link) => {\r\n    try {\r\n      handleChangeData(\r\n        await taskAPI().getTasks(link.substring(link.lastIndexOf(\"/api\")))\r\n      );\r\n    } catch (error) {\r\n      let errForm = error.message;\r\n      toast.error(errForm);\r\n    }\r\n  };\r\n\r\n  const previousBtn = (link) => async () => {\r\n    if (currentPage > 1) {\r\n      setCurrentPage(currentPage - 1);\r\n\r\n      handleChange(link);\r\n    }\r\n  };\r\n  const nextBtn = (link) => async () => {\r\n    if (currentPage < data.meta.totalPages) {\r\n      setCurrentPage(currentPage + 1);\r\n\r\n      handleChange(link);\r\n    }\r\n  };\r\n  const numberBtn = (link, val) => async (e) => {\r\n    setCurrentPage(val);\r\n    handleChange(link);\r\n  };\r\n  const input = (e) => {\r\n    let value = e.target.value\r\n  }\r\n\r\n  return (\r\n    <div className={clsx(classes.paging__list)}>\r\n      <button\r\n        className={clsx(\r\n          classes.paging__item,\r\n          classes.paging__chevron,\r\n          data.links.previous == null && classes.paging__item_disabled,\r\n        )}\r\n        onClick={previousBtn(data.links.previous)}\r\n        disabled={data.links.previous == null && true}\r\n      >\r\n        <ion-icon\r\n          name=\"chevron-back\"\r\n          className={clsx(classes.paging__icon_disabled)}\r\n        ></ion-icon>\r\n      </button>\r\n\r\n      <button\r\n        className={clsx(\r\n          classes.paging__item,\r\n          currentPage == 1 ? classes.paging__item_active : \"\"\r\n        )}\r\n        onClick={numberBtn(data.links.first, 1)}\r\n      >\r\n        1\r\n      </button>\r\n\r\n      {currentPage > 1 && currentPage < data.meta.totalPages ? (\r\n        <input\r\n          type=\"text\"\r\n          className={clsx(classes.paging__input, classes.paging__item_active, data.meta.totalPages == 1 && \"d-none\")}\r\n          value={currentPage}\r\n          readOnly={true}\r\n        />\r\n      ) : (\r\n        <button\r\n          className={clsx(classes.paging__item, data.meta.totalPages == 1 && \"d-none\")}\r\n        >\r\n          ...\r\n        </button>\r\n      )}\r\n\r\n      <button\r\n        className={clsx(\r\n          classes.paging__item,\r\n          currentPage == data.meta.totalPages ? classes.paging__item_active : \"\",\r\n          data.meta.totalPages == 1 && \"d-none\"\r\n        )}\r\n        onClick={numberBtn(data.links.last, data.meta.totalPages)}\r\n      >\r\n        {data.meta ? data.meta.totalPages : \"\"}\r\n      </button>\r\n\r\n      <button\r\n        className={clsx(\r\n          classes.paging__item,\r\n          classes.paging__chevron,\r\n          data.links.next == null && classes.paging__item_disabled,\r\n        )}\r\n        onClick={nextBtn(data.links.next)}\r\n        disabled={data.links.next == null && true}\r\n      >\r\n        <ion-icon name=\"chevron-forward\"></ion-icon>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";// lib\nimport{createUseStyles}from\"react-jss\";import clsx from\"clsx\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import usePasswordForm from\"../../services/usePasswordForm\";import userAPI from\"../../../../service/fetchAPI/userAPI\";import setAuthToken from\"../../../../service/defaultAPI/setAuthToken\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles({Settings:{top:\"0\",left:\"0\",width:\"100vw\",height:\"100vh\",display:\"flex\",justifyContent:\"center\",zIndex:\"11\",color:\"#FFFFFF\"},settings__bg:{backgroundColor:\"#000\",opacity:\"70%\"},settings__container:{width:\"42rem\",minWidth:\"48rem\",marginTop:\"6rem\",padding:\"2rem\",backgroundColor:\"#1D1D27\",textAlign:\"left\",borderRadius:\"1.6rem\"},settings__caption:{fontSize:\"2rem\",textTransform:\"capitalize\",fontWeight:\"bold\",marginBottom:\"2rem\"},settings__title:{fontSize:\"1.6rem\",textTransform:\"capitalize\",marginBottom:\"1rem\"},settings__colors:{display:\"grid\",gap:\"1.5rem\",gridTemplateColumns:\"repeat(auto-fit, 6rem)\"},settings__color:{width:\"6rem\",height:\"5rem\",backgroundColor:\"transparent\",cursor:\"pointer\",borderRadius:\"1.2rem\",transition:\"all 0.1s ease-in-out\",position:\"relative\"},settings__buttons:{gap:\"1rem\",marginTop:\"5rem\"},settings__groups:{padding:\"1.5rem\",border:\"3px solid var(--background-color-header)\",borderRadius:\"1rem\",height:\"35rem\",overflowY:\"scroll\"},settings__group:{marginBottom:\"2rem\",width:\"100%\"},settings__err:{color:\"red\",padding:\"1rem\",fontSize:\"1.4rem\"},settings__listColls:{height:\"16rem\",overflowY:\"scroll\",borderRadius:\"1.2rem\",border:\"3px solid var(--background-color-header)\"},settings__itemColl:{display:\"flex\",alignItems:\"center\",padding:\"1rem\",borderBottom:\"2px solid var(--background-color-header)\",gap:\"1rem\",cursor:\"pointer\"},settings__checkbox:{color:\"var(--bg-btn-pink)\",backgroundColor:\"transparent\",width:\"1.7rem\",height:\"1.7rem\"},settings__lable:{fontSize:\"1.6rem\"}});var Settings=function Settings(_ref){var toggleVal=_ref.toggleVal,toggleFunc=_ref.toggleFunc,HandleLogin=_ref.HandleLogin;var navigate=useNavigate();var classes=useStyles();var HandleChangePassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values,user){var id,username,newPassword,password,errForm;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=user.id;username=user.username;newPassword=values.newpass;password=values.newpass;_context2.prev=4;_context2.next=7;return userAPI().updateUser(id,{username:username,newPassword:newPassword});case 7:toast.success(\"ðŸ¦„ Change password successfully!\");toggleFunc();setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=localStorage;_context.t1=JSON;_context.next=4;return userAPI().login({username:username,password:password});case 4:_context.t2=_context.sent;_context.t3=_context.t1.stringify.call(_context.t1,_context.t2);_context.t0.setItem.call(_context.t0,\"user\",_context.t3);navigate(\"/\");HandleLogin();case 9:case\"end\":return _context.stop();}}},_callee);})),1000);_context2.next=16;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](4);errForm=_context2.t0.message;toast.error(errForm);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[4,12]]);}));return function HandleChangePassword(_x,_x2){return _ref2.apply(this,arguments);};}();var _usePasswordForm=usePasswordForm(HandleChangePassword),handleChange=_usePasswordForm.handleChange,handleSubmit=_usePasswordForm.handleSubmit,values=_usePasswordForm.values,errors=_usePasswordForm.errors;var closeTabFunc=function closeTabFunc(){toggleFunc();};return/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.Settings,\"m-auto position-fixed\",!toggleVal&&\"d-none\"),children:[/*#__PURE__*/_jsx(\"div\",{className:clsx(classes.settings__bg,\"w-100 h-100 position-absolute\"),onClick:closeTabFunc}),/*#__PURE__*/_jsx(\"div\",{className:clsx(classes.settings__container,\"position-absolute\"),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings__top d-flex w-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:clsx(classes.settings__caption,\"mr-auto\"),children:\"Account Setting\"}),/*#__PURE__*/_jsx(\"div\",{className:\"settings__close-btn\",onClick:closeTabFunc,children:/*#__PURE__*/_jsx(\"ion-icon\",{name:\"close\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__groups),children:[/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__group,\"bar-title\"),children:[/*#__PURE__*/_jsx(\"div\",{className:clsx(classes.settings__title),children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"new password\",className:\"btn--outline w-100 py-3\",style:{fontSize:\"1.6rem\"},name:\"newpass\",value:values.newpass,onChange:handleChange}),errors.newpass&&/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__err),children:[\"*\",errors.newpass]})]}),/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__group,\"bar-title\"),children:[/*#__PURE__*/_jsx(\"div\",{className:clsx(classes.settings__title),children:\"Re-Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"re-password\",className:\"btn--outline w-100 py-3\",style:{fontSize:\"1.6rem\"},name:\"repass\",value:values.repass,onChange:handleChange}),errors.repass&&/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__err),children:[\"*\",errors.repass]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:clsx(classes.settings__buttons,\"w-100 d-flex\"),children:[/*#__PURE__*/_jsx(\"button\",{className:\"settings__button button btn--none-border btn--hover-bg-gray-light mr-auto mb-0\",style:{backgroundColor:\"red\"},type:\"button\",children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"settings__button button btn--none-border btn--hover-bg-gray-light ml-auto mb-0\",style:{backgroundColor:\"#3D3C50\"},type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"settings__button button btn--none-border btn--hover-bg-gray mb-0\",onClick:closeTabFunc,children:\"Cancel\"})]})]})})]});};export default Settings;","map":{"version":3,"sources":["D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/src/components/users/view/setting/Settings.js"],"names":["createUseStyles","clsx","toast","useNavigate","usePasswordForm","userAPI","setAuthToken","useStyles","Settings","top","left","width","height","display","justifyContent","zIndex","color","settings__bg","backgroundColor","opacity","settings__container","minWidth","marginTop","padding","textAlign","borderRadius","settings__caption","fontSize","textTransform","fontWeight","marginBottom","settings__title","settings__colors","gap","gridTemplateColumns","settings__color","cursor","transition","position","settings__buttons","settings__groups","border","overflowY","settings__group","settings__err","settings__listColls","settings__itemColl","alignItems","borderBottom","settings__checkbox","settings__lable","toggleVal","toggleFunc","HandleLogin","navigate","classes","HandleChangePassword","values","user","id","username","newPassword","newpass","password","updateUser","success","setTimeout","localStorage","JSON","login","stringify","setItem","errForm","message","error","handleChange","handleSubmit","errors","closeTabFunc","repass"],"mappings":"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","sourcesContent":["// lib\r\nimport { createUseStyles } from \"react-jss\";\r\nimport clsx from \"clsx\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport usePasswordForm from \"../../services/usePasswordForm\";\r\nimport userAPI from \"../../../../service/fetchAPI/userAPI\";\r\nimport setAuthToken from \"../../../../service/defaultAPI/setAuthToken\";\r\nconst useStyles = createUseStyles({\r\n  Settings: {\r\n    top: \"0\",\r\n    left: \"0\",\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    zIndex: \"11\",\r\n    color: \"#FFFFFF\",\r\n  },\r\n  settings__bg: {\r\n    backgroundColor: \"#000\",\r\n    opacity: \"70%\",\r\n  },\r\n  settings__container: {\r\n    width: \"42rem\",\r\n    minWidth: \"48rem\",\r\n    marginTop: \"6rem\",\r\n    padding: \"2rem\",\r\n    backgroundColor: \"#1D1D27\",\r\n    textAlign: \"left\",\r\n    borderRadius: \"1.6rem\",\r\n  },\r\n  settings__caption: {\r\n    fontSize: \"2rem\",\r\n    textTransform: \"capitalize\",\r\n    fontWeight: \"bold\",\r\n    marginBottom: \"2rem\",\r\n  },\r\n  settings__title: {\r\n    fontSize: \"1.6rem\",\r\n    textTransform: \"capitalize\",\r\n    marginBottom: \"1rem\",\r\n  },\r\n  settings__colors: {\r\n    display: \"grid\",\r\n    gap: \"1.5rem\",\r\n    gridTemplateColumns: \"repeat(auto-fit, 6rem)\",\r\n  },\r\n  settings__color: {\r\n    width: \"6rem\",\r\n    height: \"5rem\",\r\n    backgroundColor: \"transparent\",\r\n    cursor: \"pointer\",\r\n    borderRadius: \"1.2rem\",\r\n    transition: \"all 0.1s ease-in-out\",\r\n    position: \"relative\",\r\n  },\r\n  settings__buttons: {\r\n    gap: \"1rem\",\r\n    marginTop: \"5rem\",\r\n  },\r\n  settings__groups: {\r\n    padding: \"1.5rem\",\r\n    border: \"3px solid var(--background-color-header)\",\r\n    borderRadius: \"1rem\",\r\n    height: \"35rem\",\r\n    overflowY: \"scroll\",\r\n  },\r\n  settings__group: {\r\n    marginBottom: \"2rem\",\r\n    width: \"100%\",\r\n  },\r\n  settings__err: {\r\n    color: \"red\",\r\n    padding: \"1rem\",\r\n    fontSize: \"1.4rem\",\r\n  },\r\n  settings__listColls: {\r\n    height: \"16rem\",\r\n    overflowY: \"scroll\",\r\n    borderRadius: \"1.2rem\",\r\n    border: \"3px solid var(--background-color-header)\",\r\n  },\r\n  settings__itemColl: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"1rem\",\r\n    borderBottom: \"2px solid var(--background-color-header)\",\r\n    gap: \"1rem\",\r\n    cursor: \"pointer\",\r\n  },\r\n  settings__checkbox: {\r\n    color: \"var(--bg-btn-pink)\",\r\n    backgroundColor: \"transparent\",\r\n    width: \"1.7rem\",\r\n    height: \"1.7rem\",\r\n  },\r\n  settings__lable: {\r\n    fontSize: \"1.6rem\",\r\n  },\r\n});\r\n\r\nconst Settings = ({ toggleVal, toggleFunc, HandleLogin }) => {\r\n  const navigate = useNavigate();\r\n  const classes = useStyles();\r\n\r\n  const HandleChangePassword = async (values, user) => {\r\n    let id = user.id;\r\n    let username = user.username;\r\n    let newPassword = values.newpass;\r\n    let password = values.newpass;\r\n\r\n    try {\r\n      await userAPI().updateUser(id, { username, newPassword });\r\n      toast.success(\"ðŸ¦„ Change password successfully!\");\r\n      toggleFunc();\r\n\r\n      setTimeout(async () => {\r\n        localStorage.setItem(\r\n          \"user\",\r\n          JSON.stringify(await userAPI().login({ username, password }))\r\n        );\r\n\r\n        navigate(\"/\");\r\n        HandleLogin();\r\n      }, 1000);\r\n    } catch (error) {\r\n      let errForm = error.message;\r\n      toast.error(errForm);\r\n    }\r\n  };\r\n\r\n  const { handleChange, handleSubmit, values, errors } =\r\n    usePasswordForm(HandleChangePassword);\r\n\r\n  const closeTabFunc = () => {\r\n    toggleFunc();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        classes.Settings,\r\n        \"m-auto position-fixed\",\r\n        !toggleVal && \"d-none\"\r\n      )}\r\n    >\r\n      <div\r\n        className={clsx(classes.settings__bg, \"w-100 h-100 position-absolute\")}\r\n        onClick={closeTabFunc}\r\n      ></div>\r\n\r\n      <div className={clsx(classes.settings__container, \"position-absolute\")}>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"settings__top d-flex w-100\">\r\n            <div className={clsx(classes.settings__caption, \"mr-auto\")}>\r\n              Account Setting\r\n            </div>\r\n            <div className=\"settings__close-btn\" onClick={closeTabFunc}>\r\n              <ion-icon name=\"close\"></ion-icon>\r\n            </div>\r\n          </div>\r\n\r\n          <div className={clsx(classes.settings__groups)}>\r\n            {/* <div className={clsx(classes.settings__group, \"bar-title\")}>\r\n              <div className={clsx(classes.settings__title)}>Old Password</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"old password\"\r\n                className=\"btn--outline w-100 py-3\"\r\n                style={{ fontSize: \"1.6rem\" }}\r\n                name=\"oldpass\"\r\n                value={values.oldpass}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.oldpass && (\r\n                <div className={clsx(classes.settings__err)}>\r\n                  *{errors.oldpass}\r\n                </div>\r\n              )}\r\n              </div> */}\r\n\r\n            <div className={clsx(classes.settings__group, \"bar-title\")}>\r\n              <div className={clsx(classes.settings__title)}>New Password</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"new password\"\r\n                className=\"btn--outline w-100 py-3\"\r\n                style={{ fontSize: \"1.6rem\" }}\r\n                name=\"newpass\"\r\n                value={values.newpass}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.newpass && (\r\n                <div className={clsx(classes.settings__err)}>\r\n                  *{errors.newpass}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className={clsx(classes.settings__group, \"bar-title\")}>\r\n              <div className={clsx(classes.settings__title)}>Re-Password</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"re-password\"\r\n                className=\"btn--outline w-100 py-3\"\r\n                style={{ fontSize: \"1.6rem\" }}\r\n                name=\"repass\"\r\n                value={values.repass}\r\n                onChange={handleChange}\r\n              />\r\n              {errors.repass && (\r\n                <div className={clsx(classes.settings__err)}>\r\n                  *{errors.repass}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={clsx(classes.settings__buttons, \"w-100 d-flex\")}>\r\n            <button\r\n              className=\"settings__button button btn--none-border btn--hover-bg-gray-light mr-auto mb-0\"\r\n              style={{ backgroundColor: \"red\" }}\r\n              type=\"button\"\r\n            >\r\n              Delete\r\n            </button>\r\n            <button\r\n              className=\"settings__button button btn--none-border btn--hover-bg-gray-light ml-auto mb-0\"\r\n              style={{ backgroundColor: \"#3D3C50\" }}\r\n              type=\"submit\"\r\n            >\r\n              Submit\r\n            </button>\r\n            <button\r\n              type=\"reset\"\r\n              className=\"settings__button button btn--none-border btn--hover-bg-gray mb-0\"\r\n              onClick={closeTabFunc}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"]},"metadata":{},"sourceType":"module"}
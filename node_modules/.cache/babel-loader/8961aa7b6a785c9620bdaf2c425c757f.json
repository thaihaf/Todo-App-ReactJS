{"ast":null,"code":"import axios from\"axios\";import{toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";export default function FetchClient(){var navigate=useNavigate();axios.interceptors.request.use(function(config){// Do something before request is sent\nreturn config;},function(error){console.log(error);// Do something with request error\nreturn Promise.reject(error);});// // Add a response interceptor\naxios.interceptors.response.use(function(response){// Any status code that lie within the range of 2xx cause this function to trigger\n// Do something with response data\nreturn response;},function(error){if(error.response.status==401){toast.warn(\"This token is invalidated\");localStorage.removeItem(\"user\");navigate(\"/\");}// Any status codes that falls outside the range of 2xx cause this function to trigger\n// Do something with response error\nreturn Promise.reject(error);});}","map":{"version":3,"sources":["D:/4.Document/Work/MonstarLab/Intern/ReactJS/todo/src/service/defaultAPI/FetchClient.js"],"names":["axios","toast","useNavigate","FetchClient","navigate","interceptors","request","use","config","error","console","log","Promise","reject","response","status","warn","localStorage","removeItem"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,GAAMC,CAAAA,QAAQ,CAAGF,WAAW,EAA5B,CAEAF,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CACE,SAAUC,MAAV,CAAkB,CAChB;AAEA,MAAOA,CAAAA,MAAP,CACD,CALH,CAME,SAAUC,KAAV,CAAiB,CACfC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA;AACA,MAAOG,CAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP,CACD,CAVH,EAaA;AACAT,KAAK,CAACK,YAAN,CAAmBS,QAAnB,CAA4BP,GAA5B,CACE,SAAUO,QAAV,CAAoB,CAClB;AACA;AACA,MAAOA,CAAAA,QAAP,CACD,CALH,CAME,SAAUL,KAAV,CAAiB,CACf,GAAIA,KAAK,CAACK,QAAN,CAAeC,MAAf,EAAyB,GAA7B,CAAkC,CAChCd,KAAK,CAACe,IAAN,CAAW,2BAAX,EACAC,YAAY,CAACC,UAAb,CAAwB,MAAxB,EACAd,QAAQ,CAAC,GAAD,CAAR,CACD,CAED;AACA;AACA,MAAOQ,CAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP,CACD,CAhBH,EAkBD","sourcesContent":["import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function FetchClient() {\r\n  const navigate = useNavigate();\r\n\r\n  axios.interceptors.request.use(\r\n    function (config) {\r\n      // Do something before request is sent\r\n \r\n      return config;\r\n    },\r\n    function (error) {\r\n      console.log(error);\r\n      // Do something with request error\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // // Add a response interceptor\r\n  axios.interceptors.response.use(\r\n    function (response) {\r\n      // Any status code that lie within the range of 2xx cause this function to trigger\r\n      // Do something with response data\r\n      return response;\r\n    },\r\n    function (error) {\r\n      if (error.response.status == 401) {\r\n        toast.warn(\"This token is invalidated\");\r\n        localStorage.removeItem(\"user\");\r\n        navigate(\"/\")\r\n      }\r\n\r\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n      // Do something with response error\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}